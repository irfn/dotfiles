set-option -g visual-bell on
bind-key a send-prefix

set -g base-index 1
set-option -g history-limit 10000
bind-key r source-file ~/.tmux.conf
unbind %
unbind C-[
bind | split-window -h
bind - split-window -v
bind q killp
bind * set synchronize-panes on
bind ` set synchronize-panes off

set -g base-index 1
setw -g pane-base-index 1
#set-option -g mouse-select-pane on
set-option -g mouse on
set -g status-style fg=black,bg=default

set-option -g history-limit 32768

setw -g automatic-rename
bind Tab last-window

set -g xterm-keys on
set-option -g renumber-windows on
# ----------------------
# Status Bar
# -----------------------
set-option -g status on
#setw -g utf8 on
#set -g status-utf8 on                  # set utf-8 for the status bar
set -g status-interval 5               # set update frequencey (default 15 seconds)
set -g status-justify centre           # center window list for clarity
set-option -g status-position bottom    # position the status bar at top of screen

# visual notification of activity in other windows
setw -g monitor-activity on
set -g visual-activity on

# set pane colors - hilight the active pane
set -g pane-border-style fg=colour235
set -g pane-active-border-style fg=colour240

## COLORSCHEME: gruvbox dark


# default statusbar colors
set-option -g status-bg colour237 #bg1
set-option -g status-fg colour223 #fg1

# default window title colors
set -g window-status-style fg=colour237,bg=colour214
set -g window-status-activity-style fg=colour248,bg=colour237
set -g window-status-current-style fg=colour237,bg=default

# pane border
set -g pane-active-border-style fg=colour250
set -g pane-border-style fg=colour237

# message infos
set -g message-style fg=colour223,bg=colour239

# writting commands inactive
set -g message-command-style fg=colour223,bg=colour239

# pane number display
set-option -g display-panes-active-colour colour250 #fg2
set-option -g display-panes-colour colour237 #bg1

# clock
set-window-option -g clock-mode-colour colour109 #blue

# bell
set-window-option -g window-status-bell-style fg=colour235,bg=colour167 #bg, red


## Theme settings mixed with colors (unfortunately, but there is no cleaner way)
#set-option -g status-attr "none"
set-option -g status-justify "left"
set-option -g status-left-length "80"
set-option -g status-right-length "80"
set-option -g set-titles on
set -g pane-border-format "#{pane_index} #{ruby ~/.config/tmux_title.rb}}"

set-window-option -g window-status-separator ""

set-window-option -g window-status-current-format "#[fg=colour239, bg=colour248, :nobold, noitalics, nounderscore]#[fg=colour239, bg=colour214] #I #[fg=colour239, bg=colour214, bold] #{ruby ~/.config/tmux_title.rb} #[fg=colour214, bg=colour237, nobold, noitalics, nounderscore]"

#set-window-option -g window-status-format "#[fg=colour237,bg=colour239,noitalics]#[fg=colour223,bg=colour239] #I #[fg=colour223, bg=colour239] . #[fg=colour239, bg=colour237, noitalics]"

set -g status-left-length 70
set -g status-left "#[fg=green]: #h : #[fg=brightblue]#(curl icanhazip.com) #[fg=yellow]#(ifconfig en0 | grep 'inet ' | awk '{print \"en0 \" $2}') #(ifconfig en1 | grep 'inet ' | awk '{print \"en1 \" $2}') #[fg=red]#(ifconfig tun0 | grep 'inet ' | awk '{print \"vpn \" $2}') "

set -g status-right-length 60
set -g status-right "#[fg=yellow]#(kubectl config current-context):#{prefix_highlight} | #[fg=blue]#S #I:#P #[fg=yellow]:: %d %b %Y #[fg=green]:: %l:%M %p :: #(date -u | awk '{print $4}'):UTC"



set -g @plugin 'tmux-plugins/tpm'
#TODO: remove config made redundant by tmux-sensible
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-urlview'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
set -g @plugin 'tmux-plugins/tmux-copycat'
set -g @plugin 'tmux-plugins/tmux-sessionist'
set -g @plugin 'tmux-plugins/tmux-pain-control'
set -g @plugin 'srcery-colors/srcery-tmux'

# Other examples:
# set -g @plugin 'github_username/plugin_name'
# set -g @plugin 'git@github.com/user/plugin'
# set -g @plugin 'git@bitbucket.com/user/plugin'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run -b '~/.tmux/plugins/tpm/tpm'

set -g @srcery_tmux_patched_font '1'

